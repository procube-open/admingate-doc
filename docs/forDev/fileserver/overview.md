---
sidebar_position: 1
---
# 概要
NetSoarer AdminGate の機能として、複数プロトコルでアクセス可能なファイルサーバーを実装する。

## 実装目的
接続先機器と接続元機器のファイル転送を円滑に行うことを目的としている。

## 開発指針
基本的な開発指針としては[開発のすすめかた](https://docs.teigi.dev/docs/dev/develop)に従うものとする。

## 機能要件
ファイルサーバはアクセスされるプロトコルにより細かい機能要件は異なるが、基本となる要件をここに記す。

- ファイル
  - ファイルの名前を確認できること。
  - ファイルのサイズを確認できること。
  - ファイルのパスが確認できること。
  - 指定したディレクトリの配下にファイルをアップロードできること。
  - ファイルをダウンロードできること。
  - ファイルを削除できること。
  - ファイル名に”/”が使えないこと。
  - ファイルの名前が変更できること。
  - ファイルの更新を行った時、それが記録されること。
  - ファイルのアップロード、上書きが行われた時、ファイルのウイルススキャンを行えること。
  - 環境変数で指定されたサイズ以上のファイルはアップロードできないこと。
  - 環境変数で指定されたサイズ以上のファイルの合計サイズを上回るアップロードはできないこと。
- ディレクトリ全般
  - 指定したディレクトリの配下に存在するファイル一覧が取得できること。
  - 指定したディレクトリの配下に存在するディレクトリ一覧が取得できること。
  - 特定のディレクトリ内で同じ名前のファイルが2つ以上存在できないこと。
  - 特定のディレクトリ内で同じ名前のディレクトリが2つ以上存在できないこと。
  - 特定のディレクトリ内で同じ名前のファイルとディレクトリが存在できないこと。
  - ディレクトリ名に”/”が使えないこと。
- 基本ディレクトリ
  - 指定したディレクトリの配下に作成できること。
  - ディレクトリを削除でき、削除すると配下に存在する全てのディレクトリとファイルも削除されること。(SFTPでは配下が空のディレクトリのみ削除できる)
  - ディレクトリの名前が変更できること。
- ルートディレクトリ
  - API以外の方法でディレクトリを作成できないこと。
  - ディレクトリを削除できないこと。
  - ディレクトリのメタデータを更新できないこと。
  - アクセス可能なもののみが表示されること。

基本ディレクトリとルートディレクトリについては[ディレクトリ実装](/docs/forDev/fileserver/directory)を参照されたい。